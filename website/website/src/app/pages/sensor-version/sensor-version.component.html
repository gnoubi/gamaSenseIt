<div class="header bg-gradient-dark pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <app-sensor-version></app-sensor-version>
    </div>
  </div>
</div>

<div class="container mt--7">
  <!-- Table -->
  <div class="row">
    <div class="col-xl-8 mb-0 mb-xl-0">
      <div class="card shadow">
        <div class="card-header bg-transparent">
          <h3 class="mb-0">Available Types of Sensor</h3>
        </div>
        <div class="table-responsive">
          <!-- Projects table -->
          <table class="table align-items-center table-flush">
            <thead class="thead-light">
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Version</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <!--sensors1 o lieu de sensors-->
              <tr *ngFor="let sensor of sensorType">
                <td>
                  {{sensor.name}}
                </td>
                <td>
                  {{sensor.version}}
                </td>
                <td>
                  <i class="fas fa-info-circle fa-lg text-success"
                    title="Details"
                    (click)="displaySensorType=sensor;operationType='details'">
                  </i>
                  <i class="fas fa-edit fa-lg text-success"
                    title="Update"
                    style="margin-left:10px ; margin-right:10px"
                    data-toggle="modal" data-target="#modal-form1"
                    (click)="sensorTypeUpdate=sensor;operationType='update'">
                  </i>
                  <i class="fas fa-trash-alt fa-lg text-danger"
                    title="Delete"
                    (click)="sensorTypeDelete=sensor;operationType='delete'">
                  </i>
                </td>
              </tr>
              <tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-xl-4">
      <div class="card bg-gradient-default shadow">
        <div class="card-header bg-transparent">
          <div class="row align-items-center">
            <div class="col">
              <h2 class="text-white mb-0">
                Sensor Type's Operation
              </h2>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div *ngIf="operationType == 'details'">
            <h3 class="text-white">Sensor Type Details</h3>
            <ul class="text-white mt-1" *ngIf="displaySensorType.idType!=0">
              <li>Name: {{displaySensorType.name}}</li>
              <li>Version: {{displaySensorType.version}}</li>
              <li>Data Separator: {{displaySensorType.dataSeparator}}</li>
              <li>Measured Parameters: {{displaySensorType.measuredDataOrder}}</li>
            </ul>
          </div>
          <div *ngIf="operationType=='update'">
            <h3 class="text-white">Update Sensor Type</h3>
            <br>
            <form role="form">
              <div class="form-row mb-3 ">
                <div class="col">
                  <input type="text" class="form-control" placeholder="Name"
                  name="Name" [(ngModel)]="sensorUpdate.name"/>
                </div>
              </div>
              <br />
              <div class="form-row mb-3 ">
                <div class="col">
                  <input type="text" class="form-control" placeholder="Version"
                  name="Version" [(ngModel)]="sensorUpdate.version"/>
                </div>
              </div>
              <br />
              <div class="col">
                <button type="button" class="btn btn-primary">Update</button>
              </div>
            </form>
          </div>
          <div *ngIf="operationType == 'delete' ">
            <h3 class="text-white">Remove Sensor Type</h3>
            <br>
            <form role="form">
              <div class="form-row mb-3 ">
                <div class="col">
                  <input type="text" class="form-control" placeholder="Name"
                  name="Name" formControlName="Name" />
                </div>
              </div>
              <div class="col">
                <button type="button" class="btn btn-primary">Remove</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Table -->
  <div class="row mt-5">
    <div class="col-xl-8 mb-0 mb-xl-0">
      <div class="card shadow">
        <div class="card-header bg-transparent">
          <h3 class="mb-0">Available Sensors</h3>
        </div>
        <div class="table-responsive">
          <!-- Projects table -->
          <table class="table align-items-center table-flush">
            <thead class="thead-light">
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Type</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <!--sensors1 o lieu de sensors-->
              <tr *ngFor="let sensor of sensors">
                <td>
                  {{sensor.name}}
                </td>
                <td>
                  {{sensor.sensorMetadataName}}
                </td>
                <td>
                  <i class="fas fa-info-circle fa-lg text-success"
                    title="Details"
                    (click)="displaySensor=sensor;operationSensor='details'">
                  </i>
                  <i class="fas fa-edit fa-lg text-success"
                    title="Update"
                    style="margin-left:10px ; margin-right:10px"
                    data-toggle="modal" data-target="#modal-form3"
                    (click)="sensorUpdate=sensor;operationSensor='update'">
                  </i>
                  <i class="fas fa-trash-alt fa-lg text-danger"
                    title="Delete"
                    (click)="sensorDelete=sensor;operationSensor='delete'">
                  </i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-xl-4">
      <div class="card bg-gradient-default shadow">
        <div class="card-header bg-transparent">
          <div class="row align-items-center">
            <div class="col">
              <h2 class="text-white mb-0">
                Sensor's Operation
              </h2>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div *ngIf="operationSensor == 'details'">
            <h3 class="text-white">Sensor Details</h3>
            <ul class="text-white mt-1" *ngIf="displaySensor.idSensor!=0">
              <li>Name: {{displaySensor.name}}</li>
              <li>Type: {{displaySensor.sensorMetadataName}}</li>
              <li>Longitude: {{displaySensor.longitude}}</li>
              <li>Latitude: {{displaySensor.latitude}}</li>
            </ul>
          </div>
          <div *ngIf="operationSensor =='update'">
            <h3 class="text-white">Update Sensor</h3>
            <br>
            <form role="form">
              <div class="form-row mb-3 ">
                <div class="col">
                  <input type="text" class="form-control" placeholder="Name"
                    name="Name" [(ngModel)]="sensorUpdate.name"/>
                </div>
              </div>
              <div class="form-row mb-3">
                <div class="col">
                  <input type="number" class="form-control" placeholder="latitude"
                    name="latitude" [(ngModel)]="sensorUpdate.latitude" />
                </div>
                <div class="col">
                  <input type="number" class="form-control" placeholder="longitude"
                    name="longitude" [(ngModel)]="sensorUpdate.longitude" />
                </div>

              </div>
              <br />
              <div class="col">
                <button type="button" class="btn btn-primary">Update</button>
              </div>
            </form>
          </div>
          <div *ngIf="operationSensor == 'delete' ">
            <h3 class="text-white">Remove Sensor</h3>
            <br>
            <form role="form">
              <div class="form-row mb-3 ">
                <div class="col">
                  <input type="text" class="form-control" placeholder="Name"
                    name="Name" formControlName="Name" />
                </div>
              </div>
              <div class="col">
                <button type="button" class="btn btn-primary">Remove</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

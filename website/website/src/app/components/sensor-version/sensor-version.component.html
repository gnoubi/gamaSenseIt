
<div class="container-fluid ">
    <div class="header-body">
        <!-- Card stats -->
        <div class="row">
            <div class="col-xl-9 col-lg-9">
                <div class="card card-stats mb-4 mb-xl-0 bg-gradient-light">
                    <div class="card-body">
                        <div class="row">
                            <div class="col">
                                <button type="button" class="btn btn-white" data-toggle="modal"
                                    data-target="#modal-form1">Sensor</button>
                                <div class="modal fade" id="modal-form1" tabindex="-1" role="dialog"
                                    aria-labelledby="modal-form1" aria-hidden="false">
                                    <div class="modal-dialog modal- modal-dialog-centered modal-sm" role="document">
                                        <div class="modal-content">
                                            <div class="modal-body p-0">
                                                <div class="card bg-secondary shadow border-0">
                                                    <!--Add Sensor Header-->
                                                    <div class="card-body px-lg-5 py-lg-5">
                                                        <div class="text-center text-muted mb-4">
                                                            <small>Add a New Sensor</small>
                                                        </div>
                                                        <form class="was-validated" role="form" [formGroup]="newSensor">
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                    <label>Name</label>
                                                                    <input type="text" class="form-control"
                                                                        placeholder="Name" name="name"
                                                                        formControlName="name" required>
                                                                    <div class="invalid-feedback">This field must be filled.</div>
                                                                </div>
                                                            </div>
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                  <label>Select a Type of Sensor</label>
                                                                  <select class="custom-select" formControlName="type" required>
                                                                    <option value="">Select a Type of Sensor</option>
                                                                    <option *ngFor="let type of typeList; index as i"
                                                                      value="i">
                                                                      {{type}}</option>
                                                                  </select>
                                                                  <div class="invalid-feedback">This field must be filled.</div>
                                                                </div>
                                                            </div>
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                  <label>Latitude</label>
                                                                  <input type="number" class="form-control"
                                                                    placeholder="Latitude" name="latitude"
                                                                    id="latitude" formControlName="latitude" required>
                                                                  <div class="invalid-feedback">This field must be filled.</div>
                                                                </div>
                                                            </div>
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                  <label>Longitude</label>
                                                                  <input type="number" class="form-control"
                                                                      placeholder="Longitude" name="longitude"
                                                                      id="longitude" formControlName="longitude" required>
                                                                  <div class="invalid-feedback">This field must be filled.</div>
                                                                </div>
                                                            </div>
                                                            <div class="col" align="center">
                                                                <button type="button" class="btn btn-primary"
                                                                    (click)="onAddNewSensor()">Add</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                 <!--
                                <button type="button" class="btn btn-blue" data-toggle="modal"
                                    data-target="#modal-form2"> Sensor MetaData
                                </button>
                                <div class="modal fade" id="modal-form2" tabindex="-1" role="dialog"
                                    aria-labelledby="modal-form2" aria-hidden="false">
                                    <div class="modal-dialog modal- modal-dialog-centered modal-sm" role="document">
                                        <div class="modal-content">
                                            <div class="modal-body p-0">
                                                <div class="card bg-secondary shadow border-0">
                                                    <div class="card-body px-lg-5 py-lg-5">
                                                        <div class="text-center text-muted mb-4">
                                                            <small>Add MetaData of Sensor</small>

                                                        </div>
                                                        <form role="form" [formGroup]="metaData">
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                    <input type="text" class="form-control"
                                                                        placeholder="Name" name="name"
                                                                        formControlName="name" />
                                                                </div>
                                                                <div class="col">
                                                                    <input type="text" class="form-control"
                                                                        placeholder="Version" name="version"
                                                                        formControlName="version" />
                                                                </div>
                                                            </div>
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                    <input type="text" class="form-control"
                                                                        placeholder="separator" name="separator"
                                                                        formControlName="separator" />
                                                                </div>
                                                            </div>
                                                            <div class="col">
                                                                <button type="button" class="btn btn-primary"
                                                                    (click)="onAddMetaData()">Add </button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                -->
                                <button type="button" class="btn btn-white" data-toggle="modal"
                                    data-target="#modal-form3">
                                    Type of Sensor
                                </button>
                                <div class="modal fade" id="modal-form3" tabindex="-1" role="dialog"
                                    aria-labelledby="modal-form2" aria-hidden="false">
                                    <div class="modal-dialog modal- modal-dialog-centered modal-sm" role="document">
                                        <div class="modal-content">
                                            <div class="modal-body p-0">
                                                <div class="card bg-secondary shadow border-0">
                                                    <div class="card-body px-lg-5 py-lg-5">
                                                        <div class="text-center text-muted mb-4">
                                                            <small>Add a New Type of Sensor</small>
                                                        </div>
                                                        <form class="was-validated" role="form" [formGroup]="newSensorMetaData">
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                  <label>Name</label>
                                                                    <input type="text" class="form-control is-valid"
                                                                        placeholder="Name" name="name"
                                                                        formControlName="name" required>
                                                                    <div class="invalid-feedback">This field must be filled.</div>
                                                                </div>
                                                            </div>
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                  <label>Version</label>
                                                                    <input type="text" class="form-control"
                                                                        placeholder="Version" name="version"
                                                                        formControlName="version" required>
                                                                    <div class="invalid-feedback">This field must be filled.</div>
                                                                </div>
                                                            </div>
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                  <label>Separator</label>
                                                                  <input type="text" class="form-control"
                                                                    placeholder="Separator (default is ':')" name="separator"
                                                                    formControlName="separator" />
                                                                </div>
                                                                <button type="button"
                                                                  class="btn btn-primary"
                                                                  style="height:47px; top:31px"
                                                                  (click)="refreshSeparator()">
                                                                  <i class="fas fa-check"></i>
                                                                </button>
                                                            </div>
                                                            <label>Select measured parameters</label>
                                                            <div class="row">
                                                              <div *ngFor="let parameter of metaData;">
                                                                <div class="col-auto">
                                                                  <div class="icon-wrapper" style="position:relative;float:left;">
                                                                    <button type="button"
                                                                      class="{{changeIcon(parameter.id)}}"
                                                                      title="{{parameter.parameter}}"
                                                                      (click)="addMetaData(parameter.id)">
                                                                        <i class="{{iconList[parameter.id]}}"></i>
                                                                      </button>
                                                                      <span class="badge rounded btn-white"
                                                                        style="position:absolute; top:-4px; right:-4px;">
                                                                        {{parameter.id}}
                                                                      </span>
                                                                   </div>
                                                                </div>
                                                              </div>
                                                            </div>
                                                            <br>
                                                            <div class="form-row mb-3">
                                                                <div class="col">
                                                                    <input type="text"
                                                                        class="form-control"
                                                                        placeholder="Id of measured parameters"
                                                                        name="measuredDataOrder"
                                                                        formControlName="measuredDataOrder" readonly>
                                                                </div>
                                                            </div>
                                                            <div class="col" align="center">
                                                                <button type="button" class="btn btn-primary"
                                                                    (click)="onAddNewSensorMetaData()">Add</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-auto">
                                <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
                                    <i class="fa fa-plug"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
